"use strict";(self.webpackChunkxxtouch_lite=self.webpackChunkxxtouch_lite||[]).push([[8783],{699:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>u,frontMatter:()=>o,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"lua-manual/ethconf","title":"Network Configuration Module","description":"Network Configuration Module - ethconf","source":"@site/docs/lua-manual/ethconf.md","sourceDirName":"lua-manual","slug":"/lua-manual/ethconf","permalink":"/docs/lua-manual/ethconf","draft":false,"unlisted":false,"editUrl":"https://github.com/OwnGoalStudio/XXTouchElite/tree/main/docs/lua-manual/ethconf.md","tags":[],"version":"current","sidebarPosition":25,"frontMatter":{"sidebar_position":25},"sidebar":"luaManualSidebar","previous":{"title":"VPN Configuration Module","permalink":"/docs/lua-manual/vpnconf"},"next":{"title":"Profile Module","permalink":"/docs/lua-manual/profile"}}');var r=i(4848),a=i(8453);const o={sidebar_position:25},s="Network Configuration Module",c={},l=[{value:"Network Configuration Module - ethconf",id:"network-configuration-module---ethconf",level:2},{value:"Get the Current Network Interface List (<strong>ethconf.interfaces</strong>)",id:"get-the-current-network-interface-list-ethconfinterfaces",level:3},{value:"Declaration",id:"declaration",level:4},{value:"Parameters and Return Values",id:"parameters-and-return-values",level:4},{value:"Example Output",id:"example-output",level:4},{value:"Get and Set Configuration for a Specific Network Interface (<strong>ethconf.get_config/ethconf.set_config</strong>)",id:"get-and-set-configuration-for-a-specific-network-interface-ethconfget_configethconfset_config",level:3},{value:"Declaration",id:"declaration-1",level:4},{value:"Parameters and Return Values",id:"parameters-and-return-values-1",level:4},{value:"Description",id:"description",level:4},{value:"Example Configuration 1",id:"example-configuration-1",level:4},{value:"Example Configuration 2",id:"example-configuration-2",level:4},{value:"Example Configuration 3",id:"example-configuration-3",level:4},{value:"Example Configuration 4",id:"example-configuration-4",level:4}];function d(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"network-configuration-module",children:"Network Configuration Module"})}),"\n",(0,r.jsx)(n.h2,{id:"network-configuration-module---ethconf",children:"Network Configuration Module - ethconf"}),"\n",(0,r.jsxs)(n.admonition,{title:"Import",type:"info",children:[(0,r.jsx)(n.p,{children:"This module is not automatically imported and needs to be explicitly required."}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'ethconf = require("ethconf")\n'})})]}),"\n",(0,r.jsxs)(n.h3,{id:"get-the-current-network-interface-list-ethconfinterfaces",children:["Get the Current Network Interface List (",(0,r.jsx)(n.strong,{children:"ethconf.interfaces"}),")"]}),"\n",(0,r.jsx)(n.h4,{id:"declaration",children:"Declaration"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"interface_list = ethconf.interfaces()\n"})}),"\n",(0,r.jsx)(n.h4,{id:"parameters-and-return-values",children:"Parameters and Return Values"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["interface_list ",(0,r.jsx)(n.em,{children:"list of strings"})]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"example-output",children:"Example Output"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",metastring:'title="ethconf.interfaces"',children:'{\n  [1] = "awdl0",\n  [2] = "en2",\n  [3] = "en3",\n  [4] = "en0",\n  [5] = "ip1",\n  [6] = "ip2",\n  [7] = "ip3",\n  [8] = "ip4",\n  [9] = "ip5",\n  [10] = "ip6",\n  [11] = "ip7",\n  [12] = "ip8",\n}\n'})}),"\n",(0,r.jsxs)(n.h3,{id:"get-and-set-configuration-for-a-specific-network-interface-ethconfget_configethconfset_config",children:["Get and Set Configuration for a Specific Network Interface (",(0,r.jsx)(n.strong,{children:"ethconf.get_config/ethconf.set_config"}),")"]}),"\n",(0,r.jsx)(n.h4,{id:"declaration-1",children:"Declaration"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"config_table = ethconf.get_config(interface_name)\nsuccess, failure_reason = ethconf.set_config(interface_name, config_table)\n"})}),"\n",(0,r.jsx)(n.h4,{id:"parameters-and-return-values-1",children:"Parameters and Return Values"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["interface_name ",(0,r.jsx)(n.em,{children:"string"})]}),"\n",(0,r.jsxs)(n.li,{children:["config_table ",(0,r.jsx)(n.em,{children:"associative table"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"UserDefinedName"})," ",(0,r.jsx)(n.em,{children:"string"})," User-defined name"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"Interface"})," ",(0,r.jsx)(n.em,{children:"string-indexed associative table"})," Network interface property table"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"IPv4"})," ",(0,r.jsx)(n.em,{children:"associative table"})," IPv4 protocol configuration table"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"IPv6"})," ",(0,r.jsx)(n.em,{children:"associative table"})," IPv6 protocol configuration table"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"DNS"})," ",(0,r.jsx)(n.em,{children:"associative table"})," DNS protocol configuration list"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"Proxies"})," ",(0,r.jsx)(n.em,{children:"associative table"})," Proxy configuration table"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["success ",(0,r.jsx)(n.em,{children:"boolean"})]}),"\n",(0,r.jsxs)(n.li,{children:["failure_reason ",(0,r.jsx)(n.em,{children:"string"})]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"description",children:"Description"}),"\n",(0,r.jsx)(n.p,{children:"The structure of each protocol configuration table in the output is determined by the iOS/macOS system.\nThis section provides example configurations for common scenarios for reference only."}),"\n",(0,r.jsx)(n.admonition,{type:"caution",children:(0,r.jsxs)(n.p,{children:["Please refer to the example configurations and ensure no fields are missing to avoid issues such as network unavailability or inability to open \u201cSettings.\u201d\nIf network issues occur, try restoring network settings using ",(0,r.jsx)(n.a,{href:"/docs/lua-manual/sys#reset-sysreset",children:(0,r.jsx)(n.code,{children:"sys.reset"})}),"."]})}),"\n",(0,r.jsx)(n.h4,{id:"example-configuration-1",children:"Example Configuration 1"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",metastring:'title="DHCP Automatic Address Acquisition, Manual DNS Configuration, No Proxy"',children:'{\n  ["UserDefinedName"] = "Wi-Fi",     -- User-defined name: Wi-Fi\n  ["Interface"] = {\n    ["Type"] = "Ethernet",           -- Type: Ethernet\n    ["Hardware"] = "AirPort",        -- Hardware type: Wireless Ethernet\n    ["UserDefinedName"] = "Wi-Fi",\n    ["DeviceName"] = "en0",          -- Network interface device name: en0\n  },\n  ["IPv4"] = {\n    ["ConfigMethod"] = "DHCP",       -- IPv4 address acquisition method: Automatic (DHCP)\n  },\n  ["IPv6"] = {\n    ["ConfigMethod"] = "Automatic",  -- IPv6 address acquisition method: Automatic\n  },\n  -- Manually configure DNS server addresses\n  ["DNS"] = {\n    ["ServerAddresses"] = {          -- DNS server address: list of strings\n      [1] = "8.8.8.8",\n      [2] = "8.8.4.4",\n    },\n  },\n  --\n  ["Proxies"] = {                    -- No proxy configured\n    ["FTPPassive"] = 1,\n    ["ExceptionsList"] = {\n      [1] = "*.local",\n      [2] = "169.254/16",\n    },\n  },\n}\n'})}),"\n",(0,r.jsx)(n.h4,{id:"example-configuration-2",children:"Example Configuration 2"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",metastring:'title="DHCP Automatic Address Acquisition, Automatic DNS Configuration, No Proxy"',children:'{\n  ["UserDefinedName"] = "Wi-Fi",     -- User-defined name: Wi-Fi\n  ["Interface"] = {\n    ["Type"] = "Ethernet",           -- Type: Ethernet\n    ["Hardware"] = "AirPort",        -- Hardware type: Wireless Ethernet\n    ["UserDefinedName"] = "Wi-Fi",\n    ["DeviceName"] = "en0",          -- Network interface device name: en0\n  },\n  ["IPv4"] = {\n    ["ConfigMethod"] = "DHCP",       -- IPv4 address acquisition method: Automatic (DHCP)\n  },\n  ["IPv6"] = {\n    ["ConfigMethod"] = "Automatic",  -- IPv6 address acquisition method: Automatic\n  },\n  ["DNS"] = {},                      -- Automatic DNS configuration\n  ["Proxies"] = {                    -- No proxy configured\n    ["FTPPassive"] = 1,\n    ["ExceptionsList"] = {\n      [1] = "*.local",\n      [2] = "169.254/16",\n    },\n  },\n}\n'})}),"\n",(0,r.jsx)(n.h4,{id:"example-configuration-3",children:"Example Configuration 3"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",metastring:'title="Manual Address Configuration, Automatic DNS Configuration, No Proxy"',children:'{\n  ["UserDefinedName"] = "Wi-Fi",     -- User-defined name: Wi-Fi\n  ["Interface"] = {\n    ["Type"] = "Ethernet",           -- Type: Ethernet\n    ["Hardware"] = "AirPort",        -- Hardware type: Wireless Ethernet\n    ["UserDefinedName"] = "Wi-Fi",\n    ["DeviceName"] = "en0",          -- Network interface device name: en0\n  },\n  -- Manually configure IPv4 address\n  ["IPv4"] = {\n    ["ConfigMethod"] = "Manual",     -- IPv4 address acquisition method: Manual\n    ["Addresses"] = {\n      [1] = "192.168.2.31",          -- IP address\n    },\n    ["SubnetMasks"] = {\n      [1] = "255.255.255.0",         -- Subnet mask\n    },\n    ["Router"] = "192.168.2.1",      -- Router\n  },\n  --\n  ["IPv6"] = {\n    ["ConfigMethod"] = "Automatic",  -- IPv6 address acquisition method: Automatic\n  },\n  ["DNS"] = {},                      -- Automatic DNS configuration\n  ["Proxies"] = {                    -- No proxy configured\n    ["FTPPassive"] = 1,\n    ["ExceptionsList"] = {\n      [1] = "*.local",\n      [2] = "169.254/16",\n    },\n  },\n}\n'})}),"\n",(0,r.jsx)(n.h4,{id:"example-configuration-4",children:"Example Configuration 4"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",metastring:'title="DHCP Automatic Address Acquisition, Automatic DNS Configuration, Manual Proxy Configuration"',children:'{\n  ["UserDefinedName"] = "Wi-Fi",       -- User-defined name: Wi-Fi\n  ["Interface"] = {\n    ["Type"] = "Ethernet",             -- Type: Ethernet\n    ["Hardware"] = "AirPort",          -- Hardware type: Wireless Ethernet\n    ["UserDefinedName"] = "Wi-Fi",\n    ["DeviceName"] = "en0",            -- Network interface device name: en0\n  },\n  ["IPv4"] = {\n    ["ConfigMethod"] = "DHCP",         -- IPv4 address acquisition method: Automatic (DHCP)\n  },\n  ["IPv6"] = {\n    ["ConfigMethod"] = "Automatic",    -- IPv6 address acquisition method: Automatic\n  },\n  ["DNS"] = {},                        -- Automatic DNS configuration\n  -- Configure HTTP/HTTPS proxy server\n  ["Proxies"] = {\n    ["HTTPEnable"] = 1,                -- Enable HTTP proxy\n    ["HTTPProxy"] = "192.168.2.174",   -- HTTP proxy address\n    ["HTTPPort"] = 6152,               -- HTTP proxy port\n    ["HTTPSEnable"] = 1,               -- Enable HTTPS proxy\n    ["HTTPSProxy"] = "192.168.2.174",  -- HTTPS proxy address\n    ["HTTPSPort"] = 6152,              -- HTTPS proxy port\n    ["FTPPassive"] = 1,\n    ["ExceptionsList"] = {\n      [1] = "*.local",\n      [2] = "169.254/16",\n    },\n  },\n  --\n}\n'})})]})}function u(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>s});var t=i(6540);const r={},a=t.createContext(r);function o(e){const n=t.useContext(a);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);