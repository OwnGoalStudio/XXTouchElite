"use strict";(self.webpackChunkxxtouch_lite=self.webpackChunkxxtouch_lite||[]).push([[5079],{2070:(e,n,l)=>{l.r(n),l.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"lua-manual/utils","title":"Utility Module","description":"Utility Module - utils","source":"@site/docs/lua-manual/utils.md","sourceDirName":"lua-manual","slug":"/lua-manual/utils","permalink":"/docs/lua-manual/utils","draft":false,"unlisted":false,"editUrl":"https://github.com/OwnGoalStudio/XXTouchElite/tree/main/docs/lua-manual/utils.md","tags":[],"version":"current","sidebarPosition":21,"frontMatter":{"sidebar_position":21},"sidebar":"luaManualSidebar","previous":{"title":"Thread Module","permalink":"/docs/lua-manual/thread"},"next":{"title":"Dialog Module","permalink":"/docs/lua-manual/dialog"}}');var a=l(4848),t=l(8453);const i={sidebar_position:21},r="Utility Module",c={},d=[{value:"Utility Module - utils",id:"utility-module---utils",level:2},{value:"Add one or more contacts to the address book (<strong>utils.add_contacts</strong>)",id:"add-one-or-more-contacts-to-the-address-book-utilsadd_contacts",level:3},{value:"Declaration",id:"declaration",level:4},{value:"Parameters and Return Values",id:"parameters-and-return-values",level:4},{value:"Example",id:"example",level:4},{value:"Remove all contacts from the address book (<strong>utils.remove_all_contacts</strong>)",id:"remove-all-contacts-from-the-address-book-utilsremove_all_contacts",level:3},{value:"Declaration",id:"declaration-1",level:4},{value:"Parameters and Return Values",id:"parameters-and-return-values-1",level:4},{value:"Get the launch arguments of the current script (<strong>utils.launch_args</strong>)",id:"get-the-launch-arguments-of-the-current-script-utilslaunch_args",level:3},{value:"Declaration",id:"declaration-2",level:4},{value:"Parameters and Return Values",id:"parameters-and-return-values-2",level:4},{value:"Example 1",id:"example-1",level:4},{value:"Example 2",id:"example-2",level:4},{value:"Check if the current script is launched from within the app (<strong>utils.is_launch_via_app</strong>)",id:"check-if-the-current-script-is-launched-from-within-the-app-utilsis_launch_via_app",level:3},{value:"Declaration",id:"declaration-3",level:4},{value:"Parameters and Return Values",id:"parameters-and-return-values-3",level:4}];function o(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"utility-module",children:"Utility Module"})}),"\n",(0,a.jsx)(n.h2,{id:"utility-module---utils",children:"Utility Module - utils"}),"\n",(0,a.jsxs)(n.h3,{id:"add-one-or-more-contacts-to-the-address-book-utilsadd_contacts",children:["Add one or more contacts to the address book (",(0,a.jsx)(n.strong,{children:"utils.add_contacts"}),")"]}),"\n",(0,a.jsx)(n.h4,{id:"declaration",children:"Declaration"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:'success = utils.add_contacts({\n  {\n    firstName = "FirstName1",\n    lastName = "LastName1",\n    phoneNumbers = {\n      "Contact1Phone1",\n      "Contact1Phone2",\n    },\n    emails = {\n      "Contact1Email1",\n      "Contact1Email2",\n    },\n  },\n  {\n    firstName = "FirstName2",\n    lastName = "LastName2",\n    phoneNumbers = {\n      "Contact2Phone1",\n      "Contact2Phone2",\n    },\n    emails = {\n      "Contact2Email1",\n      "Contact2Email2",\n    },\n  },\n  ...\n})\n'})}),"\n",(0,a.jsx)(n.h4,{id:"parameters-and-return-values",children:"Parameters and Return Values"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"firstName"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.em,{children:"string"}),", the first name of the contact"]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"lastName"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.em,{children:"string"}),", the last name of the contact"]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"phoneNumbers"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.em,{children:"list of strings"}),", the list of phone numbers for this contact"]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"emails"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.em,{children:"list of strings"}),", the list of email addresses for this contact"]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["success ",(0,a.jsx)(n.em,{children:"boolean"})]}),"\n"]}),"\n",(0,a.jsx)(n.h4,{id:"example",children:"Example"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",metastring:'title="utils.add_contacts"',children:'utils.add_contacts({\n  {\n    firstName = "Xiao",\n    lastName = "Ming",\n    phoneNumbers = {\n      "13800001111",\n      "13800002222",\n    },\n    emails = {\n        "xiaoming@qq.com",\n        "xiaoming@163.com",\n    },\n  },\n  {\n    firstName = "Xiao",\n    lastName = "Hong",\n    phoneNumbers = {\n      "13800003333",\n      "13800004444",\n    },\n    emails = {\n        "xiaohong@qq.com",\n        "xiaohong@163.com",\n    },\n  },\n  ...\n})\n'})}),"\n",(0,a.jsxs)(n.h3,{id:"remove-all-contacts-from-the-address-book-utilsremove_all_contacts",children:["Remove all contacts from the address book (",(0,a.jsx)(n.strong,{children:"utils.remove_all_contacts"}),")"]}),"\n",(0,a.jsx)(n.h4,{id:"declaration-1",children:"Declaration"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"success = utils.remove_all_contacts()\n"})}),"\n",(0,a.jsx)(n.h4,{id:"parameters-and-return-values-1",children:"Parameters and Return Values"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["success ",(0,a.jsx)(n.em,{children:"boolean"})]}),"\n"]}),"\n",(0,a.jsxs)(n.h3,{id:"get-the-launch-arguments-of-the-current-script-utilslaunch_args",children:["Get the launch arguments of the current script (",(0,a.jsx)(n.strong,{children:"utils.launch_args"}),")"]}),"\n",(0,a.jsx)(n.h4,{id:"declaration-2",children:"Declaration"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"launchArgs = utils.launch_args()\n"})}),"\n",(0,a.jsx)(n.h4,{id:"parameters-and-return-values-2",children:"Parameters and Return Values"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["launchArgs","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.em,{children:"table"}),", returns a table describing the arguments for the current launch"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",metastring:'title="Structure of launchArgs"',children:'{\n  path = "/usr/local/xxtouch/bin/croissant",\n  type = "activator",\n  event = {\n    mode = "springboard",\n    name = "libactivator.icon.flick.down",\n    listener = "ch.xxtou.activator.launch",\n    userInfo = {\n      displayIdentifier = "com.unveilapp.unveil",\n    }\n  }\n}\n'})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"path"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.em,{children:"string"}),", the path of the launch script"]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"type"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.em,{children:"enum"}),", the launch type","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Unknown ",(0,a.jsx)(n.code,{children:"unknown"})]}),"\n",(0,a.jsxs)(n.li,{children:["OpenAPI ",(0,a.jsx)(n.code,{children:"openapi"})]}),"\n",(0,a.jsxs)(n.li,{children:["X.X.T. Application ",(0,a.jsx)(n.code,{children:"application"})]}),"\n",(0,a.jsxs)(n.li,{children:["Scheduled Task ",(0,a.jsx)(n.a,{href:"/docs/appendix/process-scheduling#restart-script-osrestart",children:(0,a.jsx)(n.code,{children:"os.restart"})})," ",(0,a.jsx)(n.code,{children:"scheduler"})]}),"\n",(0,a.jsxs)(n.li,{children:["Terminal ",(0,a.jsx)(n.code,{children:"terminal"})]}),"\n",(0,a.jsxs)(n.li,{children:["Volume Key ",(0,a.jsx)(n.code,{children:"volume"})]}),"\n",(0,a.jsxs)(n.li,{children:["Startup ",(0,a.jsx)(n.code,{children:"startup"})]}),"\n",(0,a.jsxs)(n.li,{children:["Legacy IDE ",(0,a.jsx)(n.code,{children:"touchsprite"})]}),"\n",(0,a.jsxs)(n.li,{children:["Visual Studio Code Plugin ",(0,a.jsx)(n.code,{children:"touchelf"})]}),"\n",(0,a.jsxs)(n.li,{children:["Daemon Mode ",(0,a.jsx)(n.code,{children:"daemon"})]}),"\n",(0,a.jsxs)(n.li,{children:["Activator ",(0,a.jsx)(n.code,{children:"activator"})]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"event"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.em,{children:"table"}),", the ",(0,a.jsx)(n.a,{href:"http://cydia.saurik.com/package/libactivator/",children:"Activator"})," event for launching the script. If not launched via Activator, this field is ",(0,a.jsx)(n.code,{children:"nil"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h4,{id:"example-1",children:"Example 1"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",metastring:'title="utils.launch_args"',children:"sys.alert(table.deep_print(utils.launch_args()))\n"})}),"\n",(0,a.jsx)(n.h4,{id:"example-2",children:"Example 2"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",metastring:'title="utils.launch_args"',children:'-- Get the current script file path (Note: Not all scripts have a file path)\nsys.alert("The current script path is: "..tostring(utils.launch_args().path))\n'})}),"\n",(0,a.jsxs)(n.h3,{id:"check-if-the-current-script-is-launched-from-within-the-app-utilsis_launch_via_app",children:["Check if the current script is launched from within the app (",(0,a.jsx)(n.strong,{children:"utils.is_launch_via_app"}),")"]}),"\n",(0,a.jsx)(n.h4,{id:"declaration-3",children:"Declaration"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"is_launched_via_app = utils.is_launch_via_app()\n"})}),"\n",(0,a.jsx)(n.h4,{id:"parameters-and-return-values-3",children:"Parameters and Return Values"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["is_launched_via_app ",(0,a.jsx)(n.em,{children:"boolean"})]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(o,{...e})}):o(e)}},8453:(e,n,l)=>{l.d(n,{R:()=>i,x:()=>r});var s=l(6540);const a={},t=s.createContext(a);function i(e){const n=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);